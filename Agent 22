Perfect ğŸ‘
Weâ€™ll build a **simple, clean web UI + backend** that:

âœ… Takes case input
âœ… Calls your **existing agentic workflow (same backend logic)**
âœ… Shows **analysis + risk + decision**
âœ… Is **hackathon-friendly, beginner-readable, judge-impressive**

No React. No heavy frontend.
Just **FastAPI + HTML + fetch**.

---

# ğŸ—ï¸ What weâ€™ll build (simple but solid)

```
Browser (HTML form)
        â†“
FastAPI backend
        â†“
Your existing Agentic Workflow
        â†“
JSON result
        â†“
Displayed on dashboard
```

---

# ğŸ“ Final Project Structure

```
project/
â”‚
â”œâ”€â”€ backend.py          â† FastAPI backend (uses your agent workflow)
â”œâ”€â”€ workflow.py         â† Your existing agentic workflow (same as now)
â”œâ”€â”€ config.py
â”œâ”€â”€ utils.py            â† extract_json()
â”‚
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html      â† UI
â”‚
â”œâ”€â”€ requirements.txt
â””â”€â”€ .env
```

---

# ğŸ“¦ requirements.txt (UPDATED)

```
fastapi
uvicorn
azure-identity
azure-ai-agents
python-dotenv
```

Install:

```bash
python -m pip install -r requirements.txt
```

---

# ğŸ”§ utils.py (JSON cleaner â€“ reuse from earlier)

```python
import json
import re

def extract_json(text):
    try:
        match = re.search(r"\{.*\}", text, re.DOTALL)
        if match:
            return json.loads(match.group())
    except:
        pass
    return {"error": "Invalid JSON", "raw": text}
```

---

# ğŸ§  backend.py (FASTAPI + AGENTIC BACKEND)

ğŸ‘‰ This **uses your same workflow logic**

```python
from fastapi import FastAPI, Request
from fastapi.responses import HTMLResponse, JSONResponse
from fastapi.templating import Jinja2Templates
import asyncio

from workflow import LegalRiskWorkflow
from config import *
from azure.identity import ClientSecretCredential
from azure.ai.agents import AgentsClient

app = FastAPI()
templates = Jinja2Templates(directory="templates")

# Initialize Azure client once
credential = ClientSecretCredential(
    TENANT_ID,
    CLIENT_ID,
    CLIENT_SECRET
)

client = AgentsClient(
    endpoint=PROJECT_ENDPOINT,
    credential=credential
)

workflow = LegalRiskWorkflow(client, AGENT_ID)

@app.get("/", response_class=HTMLResponse)
async def home(request: Request):
    return templates.TemplateResponse("index.html", {"request": request})

@app.post("/analyze")
async def analyze_case(request: Request):
    data = await request.json()

    result = await workflow.run(data)

    return JSONResponse(content=result)
```

---

# ğŸ¨ templates/index.html (SIMPLE UI DASHBOARD)

ğŸ‘‰ Clean, readable, judge-friendly

```html
<!DOCTYPE html>
<html>
<head>
    <title>Agentic Legal Risk Analyzer</title>
    <style>
        body {
            font-family: Arial;
            background: #f5f7fa;
            padding: 40px;
        }
        .card {
            background: white;
            padding: 20px;
            max-width: 700px;
            margin: auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        textarea, button {
            width: 100%;
            margin-top: 10px;
            padding: 10px;
        }
        pre {
            background: #111;
            color: #0f0;
            padding: 15px;
            overflow-x: auto;
        }
    </style>
</head>

<body>

<div class="card">
    <h2>âš–ï¸ Agentic Legal Risk Analyzer</h2>

    <p>Enter case input (JSON):</p>

    <textarea id="input" rows="10">
{
  "operation": "EU customer data processed by Indian vendor",
  "countries": ["Germany", "India"],
  "data": ["PII", "Sensitive"],
  "urgency": "HIGH"
}
    </textarea>

    <button onclick="analyze()">Analyze Risk</button>

    <h3>Result</h3>
    <pre id="output"></pre>
</div>

<script>
async function analyze() {
    const input = document.getElementById("input").value;

    const response = await fetch("/analyze", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: input
    });

    const data = await response.json();
    document.getElementById("output").textContent =
        JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
```

---

# â–¶ï¸ How to RUN the app

```bash
uvicorn backend:app --reload
```

Open browser:

```
http://127.0.0.1:8000
```

---

# ğŸ† Why judges will like this

âœ… Clean separation: UI â†’ Backend â†’ Agents
âœ… Real-time analysis
âœ… Agentic reasoning (step-wise)
âœ… Machine-readable JSON
âœ… Practical legal use case

You can say:

> â€œThe UI allows users to submit a real-world scenario, while the backend runs an agentic AI pipeline that reasons step-by-step before producing an executive decision.â€

ğŸ”¥ Thatâ€™s enough to impress.

---

# ğŸ¤ What to DEMO (important)

1. Paste input JSON
2. Click **Analyze Risk**
3. Show:

   * Analysis
   * Risk
   * Final Decision
4. Explain agentic flow (3 agents)

---

# ğŸš€ Optional polish (ONLY if time)

* Color-code risk levels
* Show decision badge (APPROVED / CONDITIONAL)
* Add loading spinner

---

If you want next, I can:

* Simplify UI more
* Add confidence score bar
* Add downloadable report (PDF/JSON)
* Prepare **judge questions + answers**

Just tell me ğŸ‘


@app.post("/analyze")
async def analyze_case(request: Request):
    try:
        data = await request.json()
        print("ğŸ“¥ Received input:", data)

        result = await workflow.run(data)
        print("ğŸ“¤ Sending result:", result)

        return JSONResponse(content=result)

    except Exception as e:
        print("âŒ ERROR:", str(e))
        return JSONResponse(
            status_code=500,
            content={"error": str(e)}
        )

-------------------------


      Perfect ğŸ‘
Now youâ€™re at the **polish & presentation stage** â€” this is exactly where projects start **impressing judges**.

Weâ€™ll do **3 clean upgrades**, without breaking your backend logic:

---

## ğŸ¯ WHAT WE WILL FIX

### 1ï¸âƒ£ Output should be **clean text**

* âŒ No ```json
* âŒ No quotes around everything
* âœ… Readable sections: Analysis, Risk, Decision

### 2ï¸âƒ£ Show a **loading indicator**

* While agent is thinking (very important for UX)

### 3ï¸âƒ£ Make the dashboard **interactive & presentable**

* Sections
* Colors
* Status badge (APPROVED / CONDITIONAL / REJECTED)

All of this is **frontend + small backend cleanup only**.

---

# âœ… BACKEND CHANGE (VERY SMALL & SAFE)

Your backend currently returns **raw strings** that still contain:

```
json
{
 ...
}
```

Weâ€™ll **clean that once**, centrally.

### ğŸ”§ Add this helper in `utils.py`

````python
import re

def clean_text(text: str) -> str:
    if not text:
        return ""

    # Remove ```json, ``` and similar markers
    text = re.sub(r"```.*?\n", "", text)
    text = text.replace("```", "")
    text = text.replace("json\n", "")
    text = text.strip()

    return text
````

---

### ğŸ”§ Use it in `workflow.py` (before returning)

```python
from utils import clean_text

return {
    "analysis": clean_text(analysis),
    "risk": clean_text(risk),
    "decision": clean_text(decision)
}
```

âœ… Backend now sends **plain readable text**
No JSON tags, no quotes.

---

# ğŸ¨ FRONTEND UPGRADE (THIS IS THE WOW PART)

Replace your **entire `index.html`** with this ğŸ‘‡
(Itâ€™s still simple HTML/CSS/JS â€” beginner-safe)

---

## âœ… `templates/index.html`

```html
<!DOCTYPE html>
<html>
<head>
    <title>Agentic Legal Risk Analyzer</title>
    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            background: #eef2f7;
            padding: 40px;
        }

        .card {
            background: white;
            padding: 25px;
            max-width: 900px;
            margin: auto;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        textarea {
            width: 100%;
            padding: 12px;
            font-family: monospace;
            font-size: 14px;
            border-radius: 6px;
        }

        button {
            margin-top: 15px;
            padding: 12px;
            width: 100%;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
        }

        button:hover {
            background: #1d4ed8;
        }

        .loading {
            display: none;
            margin-top: 15px;
            text-align: center;
            font-weight: bold;
        }

        .section {
            margin-top: 25px;
            padding: 15px;
            border-radius: 8px;
        }

        .analysis { background: #f0f9ff; }
        .risk { background: #fff7ed; }
        .decision { background: #f0fdf4; }

        .title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: bold;
        }

        .CONDITIONAL { background: #fde68a; }
        .APPROVED { background: #86efac; }
        .REJECTED { background: #fca5a5; }

        pre {
            white-space: pre-wrap;
        }
    </style>
</head>

<body>

<div class="card">
    <h2>âš–ï¸ Agentic Legal Risk Analyzer</h2>

    <p>Enter case input (JSON):</p>

    <textarea id="input" rows="8">
{
  "operation": "EU customer data processed by Indian vendor",
  "countries": ["Germany", "India"],
  "data": ["PII", "Sensitive"],
  "urgency": "HIGH"
}
    </textarea>

    <button onclick="analyze()">Analyze Risk</button>

    <div class="loading" id="loading">
        â³ Analyzing case using Agentic AI...
    </div>

    <div id="results" style="display:none;">
        <div class="section analysis">
            <div class="title">ğŸ“˜ Analysis</div>
            <pre id="analysis"></pre>
        </div>

        <div class="section risk">
            <div class="title">âš ï¸ Risk Assessment</div>
            <pre id="risk"></pre>
        </div>

        <div class="section decision">
            <div class="title">
                ğŸ¯ Decision
                <span id="badge" class="badge"></span>
            </div>
            <pre id="decision"></pre>
        </div>
    </div>
</div>

<script>
async function analyze() {
    document.getElementById("results").style.display = "none";
    document.getElementById("loading").style.display = "block";

    try {
        const input = document.getElementById("input").value;

        const response = await fetch("/analyze", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: input
        });

        const data = await response.json();

        document.getElementById("analysis").textContent = data.analysis;
        document.getElementById("risk").textContent = data.risk;
        document.getElementById("decision").textContent = data.decision;

        // Badge logic
        let badge = document.getElementById("badge");
        if (data.decision.includes("APPROVED")) badge.className = "badge APPROVED";
        else if (data.decision.includes("REJECTED")) badge.className = "badge REJECTED";
        else badge.className = "badge CONDITIONAL";

        badge.textContent = badge.className.replace("badge ", "");

        document.getElementById("loading").style.display = "none";
        document.getElementById("results").style.display = "block";

    } catch (err) {
        document.getElementById("loading").textContent =
            "âŒ Error occurred. Check backend logs.";
    }
}
</script>

</body>
</html>
```

---

# ğŸŸ¢ WHAT YOU ACHIEVED NOW (IMPORTANT)

âœ… Clean text output
âœ… No JSON clutter
âœ… Loading indicator
âœ… Interactive dashboard
âœ… Decision badge (visual clarity)

This now looks like a **real internal compliance tool**, not a demo.

---

# ğŸ¤ HOW TO EXPLAIN THIS TO JUDGES

Say this confidently:

> â€œSince agent reasoning can take time, we added a loading state and structured UI sections. We also clean and normalize AI outputs to make them readable for non-technical decision makers.â€

ğŸ”¥ That sentence = polish + maturity.

---

# ğŸš€ OPTIONAL NEXT (only if time)

* Confidence score bar
* Download report button
* History of previous analyses
* Dark mode toggle

---

If you want, next I can:

* Help you rehearse **final demo script**
* Prepare **judge questions & answers**
* Add **one killer slide** explaining agentic flow

Youâ€™ve built something solid â€” well done ğŸ‘

